{"ast":null,"code":"import _slicedToArray from\"/home/origummy/src/7th-of-october/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from\"react\";import eventsData from\"./data.json\";import{Routes,Route}from\"react-router-dom\";import Enough from\"./pages/enough\";import Fundraisers from\"./pages/fundraisers\";import\"./style.css\";import Content,{Context}from\"./components/Content\";import disableScroll from\"./block-scroll.js\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var MEAN_STEP=Math.floor(eventsData.length/12);function MainContent(_ref){var eventIndex=_ref.eventIndex,contentWarning=_ref.contentWarning,setEventIndex=_ref.setEventIndex,setContentWarning=_ref.setContentWarning;var _useState=useState(true),_useState2=_slicedToArray(_useState,2),isBlurred=_useState2[0],setBlurred=_useState2[1];function disableWarning(contentWarning,setContentWarning){return function(){scrollToGraphic();setContentWarning(false);};}function scrollToGraphic(){var _document$getElementB,_document$getElementB2;(_document$getElementB=document.getElementById(\"graphic\"))===null||_document$getElementB===void 0?void 0:_document$getElementB.style.setProperty(\"filter\",\"none\");window.scrollTo({top:((_document$getElementB2=document.getElementById(\"worse-warn\"))===null||_document$getElementB2===void 0?void 0:_document$getElementB2.offsetTop)||0,behavior:\"smooth\"});setBlurred(false);}function scrollToEnough(){var element=document.getElementById(\"enough-title\");element.scrollIntoView({behavior:\"smooth\"});}return/*#__PURE__*/_jsxs(\"div\",{id:\"page-container\",children:[/*#__PURE__*/_jsxs(\"div\",{id:\"title-container\",children:[/*#__PURE__*/_jsxs(\"p\",{id:\"main-title\",children:[\"TRUE FACE\",/*#__PURE__*/_jsx(\"br\",{}),\"OF PALESTINE\"]}),/*#__PURE__*/_jsx(\"p\",{id:\"main-subtitle\",children:\"Like every war in the conflict, this one too started after a palestinian terror attack. Hamas took over civilian towns, commiting some of the most horrifying atrocities of the 21st century.\"}),contentWarning&&/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{id:\"warning-containter\",onClick:disableWarning(contentWarning,setContentWarning),children:[/*#__PURE__*/_jsx(\"img\",{id:\"eye\",src:\"../images/eye.png\"}),/*#__PURE__*/_jsxs(\"p\",{id:\"content-warning\",children:[\"CONTENT WARNING: EXTREME VIOLENCE\",/*#__PURE__*/_jsx(\"br\",{})]}),/*#__PURE__*/_jsx(\"p\",{id:\"btn-disable-warning\",children:\"SHOW\"})]})})]}),/*#__PURE__*/_jsx(\"p\",{id:\"worse-warn\",children:\"FOOTAGE WILL GET PROGRESSIVELY MORE GRAPHIC\"}),/*#__PURE__*/_jsx(\"main\",{id:\"graphic-container\",children:/*#__PURE__*/_jsx(Context.Provider,{value:isBlurred,children:/*#__PURE__*/_jsx(Content,{src:eventsData[eventIndex].path,details:eventsData[eventIndex].details})})}),/*#__PURE__*/_jsx(\"p\",{id:\"graphic-detail\",children:eventsData[eventIndex].details}),/*#__PURE__*/_jsxs(\"div\",{className:\"btn-container\",children:[/*#__PURE__*/_jsx(\"button\",{id:\"btn-stop\",onClick:scrollToEnough,children:\"STOP\"}),/*#__PURE__*/_jsx(\"button\",{onClick:incIndex(eventIndex,setEventIndex),id:\"btn-more\",children:\"WITNESS MORE\"})]})]});}function incIndex(eventIndex,setEventIndex){return function(){setEventIndex((eventIndex+1)%eventsData.length);// const step = Math.ceil(Math.random() * MEAN_STEP * 2);\n// if (eventIndex + step >= eventsData.length) {\n//     let i = 0;\n//     for (i = eventsData.length - 2; i >= 0; --i) {\n//         if (\n//             eventsData[i].level !=\n//             eventsData[eventsData.length - 1].level\n//         ) {\n//             break;\n//         }\n//     }\n//     if (i == eventIndex) {\n//         if (i + 1 < eventsData.length) {\n//             ++i;\n//         } else if (i > 0) {\n//             --i;\n//         }\n//     }\n//     setEventIndex(i);\n//     setEventIndex(eventIndex + 1);\n// }\n// setEventIndex(eventIndex + step);\n};}disableScroll();var Homepage=function Homepage(){var _useState3=useState(0),_useState4=_slicedToArray(_useState3,2),eventIndex=_useState4[0],setEventIndex=_useState4[1];var _useState5=useState(true),_useState6=_slicedToArray(_useState5,2),contentWarning=_useState6[0],setContentWarning=_useState6[1];return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(MainContent,{eventIndex:eventIndex,contentWarning:contentWarning,setContentWarning:setContentWarning,setEventIndex:setEventIndex}),/*#__PURE__*/_jsx(Enough,{})]});};export default function App(){window.addEventListener('load',function(){window.scrollTo(0,0);});return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(Homepage,{})}),/*#__PURE__*/_jsx(Route,{path:\"enough\",element:/*#__PURE__*/_jsx(Enough,{})}),/*#__PURE__*/_jsx(Route,{path:\"fundraisers\",element:/*#__PURE__*/_jsx(Fundraisers,{})})]})});}","map":{"version":3,"names":["React","useState","eventsData","Routes","Route","Enough","Fundraisers","Content","Context","disableScroll","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","MEAN_STEP","Math","floor","length","MainContent","_ref","eventIndex","contentWarning","setEventIndex","setContentWarning","_useState","_useState2","_slicedToArray","isBlurred","setBlurred","disableWarning","scrollToGraphic","_document$getElementB","_document$getElementB2","document","getElementById","style","setProperty","window","scrollTo","top","offsetTop","behavior","scrollToEnough","element","scrollIntoView","id","children","onClick","src","Provider","value","path","details","className","incIndex","Homepage","_useState3","_useState4","_useState5","_useState6","App","addEventListener"],"sources":["/home/origummy/src/7th-of-october/src/App.tsx"],"sourcesContent":["import React, { createContext, useContext, useState } from \"react\";\nimport eventsData from \"./data.json\";\nimport { Routes, Route } from \"react-router-dom\";\nimport Enough from \"./pages/enough\";\nimport Fundraisers from \"./pages/fundraisers\";\nimport \"./style.css\";\nimport Content, { Context } from \"./components/Content\";\nimport disableScroll from \"./block-scroll.js\"\n\ntype SetEventIndex = (index: number) => void;\ntype SetContentWarning = (index: boolean) => void;\nconst MEAN_STEP = Math.floor(eventsData.length / 12);\n\nfunction MainContent({\n    eventIndex,\n    contentWarning,\n    setEventIndex,\n    setContentWarning,\n}: {\n    eventIndex: number;\n    contentWarning: boolean;\n    setEventIndex: SetEventIndex;\n    setContentWarning: SetContentWarning;\n}) {\n    const [isBlurred, setBlurred] = useState(true)\n\n    function disableWarning(\n        contentWarning: boolean,\n        setContentWarning: SetContentWarning\n    ) {\n        return () => {\n            scrollToGraphic();\n            setContentWarning(false);\n        };\n    }\n    function scrollToGraphic() {\n        document.getElementById(\"graphic\")?.style.setProperty(\"filter\", \"none\")\n        window.scrollTo({\n            top: document.getElementById(\"worse-warn\")?.offsetTop || 0,\n            behavior: \"smooth\",\n        });\n        setBlurred(false); \n    }\n    function scrollToEnough() {\n        const element = document.getElementById(\"enough-title\")!;\n        element.scrollIntoView({ behavior: \"smooth\" });\n    }\n\n    return (\n        <div id=\"page-container\">\n            <div id=\"title-container\">\n                <p id=\"main-title\">\n                    TRUE FACE\n                    <br />\n                    OF PALESTINE\n                </p>\n                <p id=\"main-subtitle\">\n                    Like every war in the conflict, this one too started after a palestinian terror attack.\n                    Hamas took over civilian towns, commiting some of the most horrifying atrocities of the 21st century.\n                </p>\n                \n                {contentWarning && (\n                    <>\n                        <div id=\"warning-containter\" onClick={disableWarning(contentWarning, setContentWarning)}>\n                            <img id=\"eye\" src=\"../images/eye.png\" />\n                            <p id=\"content-warning\">\n                                CONTENT WARNING: EXTREME VIOLENCE\n                                <br />\n                            </p>\n                            <p id=\"btn-disable-warning\">\n                                SHOW\n                            </p>\n                        </div>\n                    </>\n                )}\n            </div>\n            <p id=\"worse-warn\">\n                FOOTAGE WILL GET PROGRESSIVELY MORE GRAPHIC\n            </p>\n            <main id=\"graphic-container\">\n                <Context.Provider value={isBlurred}>\n                    <Content\n                        src={eventsData[eventIndex].path}\n                        details={eventsData[eventIndex].details}\n                    />\n                </Context.Provider>\n            </main>\n            <p id=\"graphic-detail\">{eventsData[eventIndex].details}</p>\n            <div className=\"btn-container\">\n                <button id=\"btn-stop\" onClick={scrollToEnough}>\n                    STOP\n                </button>\n                <button\n                    onClick={incIndex(eventIndex, setEventIndex)}\n                    id=\"btn-more\"\n                >\n                    WITNESS MORE\n                </button>\n            </div>\n        </div>\n    );\n}\n\nfunction incIndex(eventIndex: number, setEventIndex: SetEventIndex) {\n    return () => {\n        setEventIndex((eventIndex + 1) % eventsData.length);\n        // const step = Math.ceil(Math.random() * MEAN_STEP * 2);\n        // if (eventIndex + step >= eventsData.length) {\n        //     let i = 0;\n        //     for (i = eventsData.length - 2; i >= 0; --i) {\n        //         if (\n        //             eventsData[i].level !=\n        //             eventsData[eventsData.length - 1].level\n        //         ) {\n        //             break;\n        //         }\n        //     }\n        //     if (i == eventIndex) {\n        //         if (i + 1 < eventsData.length) {\n        //             ++i;\n        //         } else if (i > 0) {\n        //             --i;\n        //         }\n        //     }\n        //     setEventIndex(i);\n        //     setEventIndex(eventIndex + 1);\n        // }\n        // setEventIndex(eventIndex + step);\n    };\n}\n\n\n\ndisableScroll();\n\nconst Homepage = () => {\n    const [eventIndex, setEventIndex] = useState(0);\n    const [contentWarning, setContentWarning] = useState(true);\n\n    return (\n        <>\n            <MainContent\n                eventIndex={eventIndex}\n                contentWarning={contentWarning}\n                setContentWarning={setContentWarning}\n                setEventIndex={setEventIndex}\n            ></MainContent>\n            <Enough></Enough>\n        </>\n    );\n};\n\nexport default function App() { \n    window.addEventListener('load', () => {\n        window.scrollTo(0, 0);\n    });\n    return (\n        <div>\n            <Routes>\n                <Route path=\"/\" element={<Homepage />} />\n                <Route path=\"enough\" element={<Enough />} />\n                <Route path=\"fundraisers\" element={<Fundraisers />} />\n            </Routes>\n        </div>\n    );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}